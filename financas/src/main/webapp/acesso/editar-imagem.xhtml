<!DOCTYPE html>
<ui:composition template="/WEB-INF/template/layout-com-acesso.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:o="http://omnifaces.org/ui">

    <ui:define name="corpo">
        <h:form>
            <p:breadCrumb >
                <p:menuitem value="Início" url="#"/>
                <p:menuitem value="Perfil" url="#"/>
                <p:menuitem value="Editar Imagem" url="#"/>
            </p:breadCrumb>
        </h:form>
        <h1>Editar imagem</h1>

        <h:form enctype="multipart/form-data">
            <h:panelGrid columns="3" >
                <o:outputLabel for="file" value="Imagem" />
                <o:inputFile id="file" value="#{cadastroImagemBean.file}"
                             accept="image/*" acceptMessage="Tipo de arquivo inválido!"
                             maxsize="#{5 * 1024 * 1024}" maxsizeMessage="Arquivo muito grande! Máximo de 5MB">
                    <f:ajax listener="#{cadastroImagemBean.read()}" render="@form" />
                </o:inputFile>
                <p:message id="file_message" for="file" />
            </h:panelGrid>
            <o:graphicImage value="#{cadastroImagemBean.content}" dataURI="true" width="500"
                            rendered="#{not empty cadastroImagemBean.content}" />
        </h:form>
    </ui:define>

</ui:composition>